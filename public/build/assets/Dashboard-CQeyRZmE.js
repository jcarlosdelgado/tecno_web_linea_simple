import{r as b,c as C,a as u,b as o,u as v,h as T,w as a,d as t,o as r,e as m,l as g,F as y,f as _,t as c,g as D,i as S,j as w,v as N,k as B}from"./app-BlCBzDlk.js";import{_ as L}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as A}from"./Card-O9o5eUXT.js";import{_ as p}from"./Button-CX2Fugjk.js";import{_ as f,a as O}from"./StatusBadge-ByNnVmWR.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Footer-o2Y0PLgd.js";import"./ResponsiveNavLink-BzKXVlKb.js";const E={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},M={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},F={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},I={class:"space-y-4"},$={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},P={class:"mt-1 text-sm text-gray-600"},U={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},q={class:"relative"},H=["value"],R={key:0,class:"text-center py-12"},G={class:"mt-6"},Q={key:1,class:"text-center py-12"},Z={class:"mt-6"},J={key:2,class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200"},W={class:"bg-white divide-y divide-gray-200"},X={class:"px-6 py-4"},Y={class:"text-sm font-medium text-gray-900"},tt={class:"text-sm text-gray-500 line-clamp-2"},et={class:"px-6 py-4 whitespace-nowrap"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ot={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},at={__name:"Dashboard",props:{trabajos:Array,stats:Object},setup(i){const k=i,n=b(""),d=b(""),x=C(()=>{let l=k.trabajos;if(n.value){const e=n.value.toLowerCase();l=l.filter(s=>s.titulo.toLowerCase().includes(e)||s.descripcion?.toLowerCase().includes(e))}return d.value&&(l=l.filter(e=>e.estado===d.value)),l}),j=[{value:"",label:"Todos los estados"},{value:"SOLICITADO",label:"Solicitado"},{value:"PRESUPUESTADO",label:"Presupuestado"},{value:"EN_PRODUCCION",label:"En Producción"},{value:"FINALIZADO",label:"Finalizado"},{value:"CANCELADO",label:"Cancelado"}],h=()=>{n.value="",d.value=""};return(l,e)=>(r(),u(y,null,[o(v(T),{title:"Dashboard"}),o(L,null,{header:a(()=>[t("div",E,[e[3]||(e[3]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Mis Trabajos ",-1)),o(v(g),{href:l.route("trabajos.create")},{default:a(()=>[o(p,{variant:"primary"},{default:a(()=>[...e[2]||(e[2]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),m(" Solicitar Nuevo Trabajo ",-1)])]),_:1})]),_:1},8,["href"])])]),default:a(()=>[t("div",M,[t("div",z,[t("div",F,[o(f,{title:"Total de Trabajos",value:i.stats.total_trabajos,icon:"briefcase",color:"blue"},null,8,["value"]),o(f,{title:"Trabajos Activos",value:i.stats.trabajos_activos,icon:"clock",color:"orange"},null,8,["value"]),o(f,{title:"Trabajos Completados",value:i.stats.trabajos_completados,icon:"check-circle",color:"green"},null,8,["value"]),o(f,{title:"Total Gastado",value:`Bs. ${i.stats.total_gastado.toFixed(2)}`,icon:"dollar-sign",color:"purple"},null,8,["value"])]),o(A,null,{header:a(()=>[t("div",I,[t("div",$,[t("div",null,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Mis Solicitudes",-1)),t("p",P,c(x.value.length)+" de "+c(i.trabajos.length)+" trabajos ",1)]),n.value||d.value?(r(),D(p,{key:0,variant:"ghost",size:"sm",onClick:h},{default:a(()=>[...e[5]||(e[5]=[m(" Limpiar filtros ",-1)])]),_:1})):S("",!0)]),t("div",U,[t("div",q,[e[6]||(e[6]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),type:"text",placeholder:"Buscar por título o descripción...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[N,n.value]])]),w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[(r(),u(y,null,_(j,s=>t("option",{key:s.value,value:s.value},c(s.label),9,H)),64))],512),[[B,d.value]])])])]),default:a(()=>[x.value.length===0&&(n.value||d.value)?(r(),u("div",R,[e[8]||(e[8]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),e[9]||(e[9]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No se encontraron resultados",-1)),e[10]||(e[10]=t("p",{class:"mt-1 text-sm text-gray-500"},"Intenta con otros filtros o términos de búsqueda.",-1)),t("div",G,[o(p,{variant:"ghost",onClick:h},{default:a(()=>[...e[7]||(e[7]=[m(" Limpiar filtros ",-1)])]),_:1})])])):i.trabajos.length===0?(r(),u("div",Q,[e[12]||(e[12]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[13]||(e[13]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No hay trabajos",-1)),e[14]||(e[14]=t("p",{class:"mt-1 text-sm text-gray-500"},"Comienza solicitando tu primer trabajo.",-1)),t("div",Z,[o(v(g),{href:l.route("trabajos.create")},{default:a(()=>[o(p,{variant:"primary"},{default:a(()=>[...e[11]||(e[11]=[m(" Solicitar Trabajo ",-1)])]),_:1})]),_:1},8,["href"])])])):(r(),u("div",J,[t("table",K,[e[16]||(e[16]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Trabajo "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acciones ")])],-1)),t("tbody",W,[(r(!0),u(y,null,_(x.value,s=>(r(),u("tr",{key:s.id_trabajo,class:"hover:bg-gray-50 transition-colors"},[t("td",X,[t("div",Y,c(s.titulo),1),t("div",tt,c(s.descripcion),1)]),t("td",et,[o(O,{status:s.estado},null,8,["status"])]),t("td",st,c(new Date(s.fecha_solicitud).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})),1),t("td",ot,[o(v(g),{href:l.route("trabajos.show",s.id_trabajo)},{default:a(()=>[o(p,{variant:"ghost",size:"sm"},{default:a(()=>[...e[15]||(e[15]=[m(" Ver Detalles ",-1)])]),_:1})]),_:1},8,["href"])])]))),128))])])]))]),_:1})])])]),_:1})],64))}},pt=V(at,[["__scopeId","data-v-b5c08b8a"]]);export{pt as default};
