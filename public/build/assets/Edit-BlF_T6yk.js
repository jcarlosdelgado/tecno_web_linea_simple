import{m as v,a as l,b as n,u as r,h as V,w as u,d as o,n as U,j as m,i as p,q as f,v as b,o as d,t as i,F as x,f as _,k as C,l as E,e as y}from"./app-BlCBzDlk.js";import{_ as N}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as q}from"./Card-O9o5eUXT.js";import{_ as c}from"./Button-CX2Fugjk.js";import"./Footer-o2Y0PLgd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BzKXVlKb.js";const D={class:"py-12"},j={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},F=["value"],S={key:0,class:"mt-1 text-sm text-red-600"},B={key:0,class:"mt-1 text-sm text-red-600"},M={key:0,class:"mt-1 text-sm text-red-600"},T={class:"border-2 border-indigo-200 rounded-lg p-4 bg-indigo-50"},$=["value"],G={key:0,class:"mt-1 text-sm text-red-600"},R={class:"flex items-center justify-end gap-4 pt-4"},K={__name:"Edit",props:{usuario:Object,roles:Array},setup(g){const a=g,s=v({nombre:a.usuario.nombre,email:a.usuario.email,password:"",telefono:a.usuario.telefono||"",direccion:a.usuario.direccion||"",id_rol:a.usuario.id_rol||""}),w=()=>{s.put(route("admin.usuarios.update",a.usuario.id_usuario))};return(k,e)=>(d(),l(x,null,[n(r(V),{title:"Editar Usuario"}),n(N,null,{header:u(()=>[...e[6]||(e[6]=[o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Editar Usuario ",-1)])]),default:u(()=>[o("div",D,[o("div",j,[n(q,null,{default:u(()=>[o("form",{onSubmit:U(w,["prevent"]),class:"space-y-6"},[o("div",null,[e[7]||(e[7]=o("label",{class:"block text-sm font-medium text-gray-700"}," Rol ",-1)),o("input",{value:g.usuario.rol,type:"text",disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm"},null,8,F),e[8]||(e[8]=o("p",{class:"mt-1 text-sm text-gray-500"},"El rol no se puede cambiar",-1))]),o("div",null,[e[9]||(e[9]=o("label",{class:"block text-sm font-medium text-gray-700"}," Nombre Completo * ",-1)),m(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r(s).nombre=t),type:"text",required:"",class:f(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(s).errors.nombre}])},null,2),[[b,r(s).nombre]]),r(s).errors.nombre?(d(),l("p",S,i(r(s).errors.nombre),1)):p("",!0)]),o("div",null,[e[10]||(e[10]=o("label",{class:"block text-sm font-medium text-gray-700"}," Correo Electrónico * ",-1)),m(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r(s).email=t),type:"email",required:"",class:f(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(s).errors.email}])},null,2),[[b,r(s).email]]),r(s).errors.email?(d(),l("p",B,i(r(s).errors.email),1)):p("",!0)]),o("div",null,[e[11]||(e[11]=o("label",{class:"block text-sm font-medium text-gray-700"}," Nueva Contraseña (opcional) ",-1)),m(o("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r(s).password=t),type:"password",minlength:"8",class:f(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(s).errors.password}])},null,2),[[b,r(s).password]]),e[12]||(e[12]=o("p",{class:"mt-1 text-sm text-gray-500"},"Dejar en blanco para mantener la contraseña actual",-1)),r(s).errors.password?(d(),l("p",M,i(r(s).errors.password),1)):p("",!0)]),o("div",T,[e[14]||(e[14]=o("label",{class:"block text-sm font-semibold text-indigo-900 mb-2"}," Rol del Usuario * ",-1)),m(o("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>r(s).id_rol=t),required:"",class:f(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(s).errors.id_rol}])},[e[13]||(e[13]=o("option",{value:""},"Selecciona un rol...",-1)),(d(!0),l(x,null,_(g.roles,t=>(d(),l("option",{key:t.id_rol,value:t.id_rol},i(t.nombre)+" - "+i(t.permisos?.length||0)+" permisos ",9,$))),128))],2),[[C,r(s).id_rol]]),r(s).errors.id_rol?(d(),l("p",G,i(r(s).errors.id_rol),1)):p("",!0),e[15]||(e[15]=o("p",{class:"mt-2 text-sm text-indigo-700"}," Define qué puede hacer este usuario en el sistema ",-1))]),o("div",null,[e[16]||(e[16]=o("label",{class:"block text-sm font-medium text-gray-700"}," Teléfono ",-1)),m(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>r(s).telefono=t),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[b,r(s).telefono]])]),o("div",null,[e[17]||(e[17]=o("label",{class:"block text-sm font-medium text-gray-700"}," Dirección ",-1)),m(o("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>r(s).direccion=t),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[b,r(s).direccion]])]),o("div",R,[n(r(E),{href:k.route("admin.usuarios.index")},{default:u(()=>[n(c,{variant:"ghost"},{default:u(()=>[...e[18]||(e[18]=[y(" Cancelar ",-1)])]),_:1})]),_:1},8,["href"]),n(c,{type:"submit",variant:"primary",disabled:r(s).processing},{default:u(()=>[y(i(r(s).processing?"Guardando...":"Guardar Cambios"),1)]),_:1},8,["disabled"])])],32)]),_:1})])])]),_:1})],64))}};export{K as default};
