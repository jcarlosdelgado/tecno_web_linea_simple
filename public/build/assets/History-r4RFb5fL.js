import{_ as h}from"./AuthenticatedLayout-DQ_849qa.js";import{_}from"./Card-O9o5eUXT.js";import{_ as m}from"./Button-CX2Fugjk.js";import{_ as n,a as v}from"./StatusBadge-ByNnVmWR.js";import{a as i,b as s,u as p,h as w,w as o,d as t,o as l,l as x,e as u,F as g,f as b,t as c}from"./app-BlCBzDlk.js";import"./Footer-o2Y0PLgd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BzKXVlKb.js";const k={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},T={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},B={key:0,class:"text-center py-12"},F={class:"mt-6"},S={key:1,class:"overflow-x-auto"},$={class:"min-w-full divide-y divide-gray-200"},V={class:"bg-white divide-y divide-gray-200"},D={class:"px-6 py-4"},H={class:"text-sm font-medium text-gray-900"},N={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},A={class:"px-6 py-4 whitespace-nowrap"},C={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},E={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},M={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},K={__name:"History",props:{trabajos:Array,stats:Object},setup(r){const f=d=>(d.pagos?.filter(a=>a.estado==="COMPLETADO").reduce((a,y)=>a+parseFloat(y.monto),0)||0).toFixed(2);return(d,e)=>(l(),i(g,null,[s(p(w),{title:"Historial de Trabajos"}),s(h,null,{header:o(()=>[...e[0]||(e[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Historial de Trabajos ",-1)])]),default:o(()=>[t("div",k,[t("div",j,[t("div",T,[s(n,{title:"Total de Trabajos",value:r.stats.total_trabajos,icon:"briefcase",color:"blue"},null,8,["value"]),s(n,{title:"Total Invertido",value:`Bs. ${r.stats.total_gastado.toFixed(2)}`,icon:"dollar-sign",color:"green"},null,8,["value"]),s(n,{title:"Promedio por Trabajo",value:`Bs. ${r.stats.promedio_por_trabajo.toFixed(2)}`,icon:"trending-up",color:"purple"},null,8,["value"]),s(n,{title:"Servicio MÃ¡s Solicitado",value:r.stats.servicio_mas_solicitado,icon:"package",color:"orange"},null,8,["value"])]),s(_,null,{header:o(()=>[...e[1]||(e[1]=[t("h3",{class:"text-lg font-semibold text-gray-900"},"Todos los Trabajos",-1),t("p",{class:"mt-1 text-sm text-gray-600"}," Historial completo de tus trabajos solicitados ",-1)])]),default:o(()=>[r.trabajos.length===0?(l(),i("div",B,[e[3]||(e[3]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[4]||(e[4]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No hay trabajos",-1)),e[5]||(e[5]=t("p",{class:"mt-1 text-sm text-gray-500"},"Comienza solicitando tu primer trabajo.",-1)),t("div",F,[s(p(x),{href:d.route("trabajos.create")},{default:o(()=>[s(m,{variant:"primary"},{default:o(()=>[...e[2]||(e[2]=[u(" Solicitar Trabajo ",-1)])]),_:1})]),_:1},8,["href"])])])):(l(),i("div",S,[t("table",$,[e[7]||(e[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Trabajo "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Servicio "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Monto "),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acciones ")])],-1)),t("tbody",V,[(l(!0),i(g,null,b(r.trabajos,a=>(l(),i("tr",{key:a.id_trabajo,class:"hover:bg-gray-50"},[t("td",D,[t("div",H,c(a.titulo),1)]),t("td",N,c(a.servicio?.nombre||"N/A"),1),t("td",A,[s(v,{status:a.estado},null,8,["status"])]),t("td",C,c(new Date(a.fecha_solicitud).toLocaleDateString("es-ES")),1),t("td",E," Bs. "+c(f(a)),1),t("td",M,[s(p(x),{href:d.route("trabajos.show",a.id_trabajo)},{default:o(()=>[s(m,{variant:"ghost",size:"sm"},{default:o(()=>[...e[6]||(e[6]=[u(" Ver Detalle ",-1)])]),_:1})]),_:1},8,["href"])])]))),128))])])]))]),_:1})])])]),_:1})],64))}};export{K as default};
