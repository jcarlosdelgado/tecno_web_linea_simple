import{c,a as p,b as o,u as n,h as w,w as a,d as e,t as d,q as u,o as g,F as y}from"./app-BlCBzDlk.js";import{_}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as r}from"./Card-O9o5eUXT.js";import{C,a as M,L as j,P as B,b as A,B as S,A as D,p as F,c as z,d as E,e as O,D as V,f as N}from"./index-Cv8Ro1wv.js";import"./Footer-o2Y0PLgd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BzKXVlKb.js";const R={class:"py-12"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},T={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},H={class:"flex items-center justify-between"},$={class:"text-3xl font-bold text-gray-900 mt-2"},G={class:"flex items-center justify-between"},I={class:"text-3xl font-bold text-gray-900 mt-2"},J={class:"flex items-center justify-between"},P={class:"flex items-center justify-between"},Z={class:"text-3xl font-bold text-gray-900 mt-2"},q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Y={class:"h-80"},K={class:"h-80 flex items-center justify-center"},Q={class:"w-full max-w-sm"},U={class:"grid grid-cols-1 gap-6"},W={class:"h-80"},X={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ee=["href"],te=["href"],se=["href"],ce={__name:"Dashboard",props:{kpis:Object,salesTrend:Object,topServices:Array,currentMonth:Number,currentYear:Number},setup(l){C.register(M,j,B,A,S,D,F,z,E);const i=l,v=c(()=>({labels:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],datasets:[{label:"Ventas (Bs)",data:i.salesTrend.sales,borderColor:"#4F46E5",backgroundColor:"rgba(79, 70, 229, 0.1)",tension:.4,fill:!0}]})),f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:s=>`Bs ${s.parsed.y.toFixed(2)}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:s=>`Bs ${s}`}}}},b=c(()=>{const s=i.kpis.jobs_by_status||{};return{labels:Object.keys(s).map(t=>t.replace("_"," ")),datasets:[{data:Object.values(s),backgroundColor:["#FCD34D","#60A5FA","#4F46E5","#10B981","#EF4444"]}]}}),h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},x=c(()=>({labels:i.topServices.map(s=>s.service),datasets:[{label:"Solicitudes",data:i.topServices.map(s=>s.count),backgroundColor:"#4F46E5"}]})),k={responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0,ticks:{stepSize:1}}}},m=s=>new Intl.NumberFormat("es-BO",{style:"currency",currency:"BOB",minimumFractionDigits:2}).format(s);return(s,t)=>(g(),p(y,null,[o(n(w),{title:"Dashboard de Reportes"}),o(_,null,{header:a(()=>[...t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard de Reportes ",-1)])]),default:a(()=>[e("div",R,[e("div",L,[e("div",T,[o(r,null,{default:a(()=>[e("div",H,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-medium text-gray-600"},"Ventas del Mes",-1)),e("p",$,d(m(l.kpis.total_sales)),1)]),t[2]||(t[2]=e("div",{class:"p-3 bg-green-100 rounded-full"},[e("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),_:1}),o(r,null,{default:a(()=>[e("div",G,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-600"},"Trabajos Completados",-1)),e("p",I,d(l.kpis.completed_jobs),1)]),t[4]||(t[4]=e("div",{class:"p-3 bg-blue-100 rounded-full"},[e("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),_:1}),o(r,null,{default:a(()=>[e("div",J,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-600"},"Ganancia Neta",-1)),e("p",{class:u(["text-3xl font-bold mt-2",l.kpis.net_profit>=0?"text-green-600":"text-red-600"])},d(m(l.kpis.net_profit)),3)]),e("div",{class:u(["p-3 rounded-full",l.kpis.net_profit>=0?"bg-green-100":"bg-red-100"])},[(g(),p("svg",{class:u(["w-8 h-8",l.kpis.net_profit>=0?"text-green-600":"text-red-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)])],2))],2)])]),_:1}),o(r,null,{default:a(()=>[e("div",P,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Clientes Activos",-1)),e("p",Z,d(l.kpis.active_clients),1)]),t[8]||(t[8]=e("div",{class:"p-3 bg-indigo-100 rounded-full"},[e("svg",{class:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])]),_:1})]),e("div",q,[o(r,{title:"Ventas Mensuales"},{default:a(()=>[e("div",Y,[o(n(O),{data:v.value,options:f},null,8,["data"])])]),_:1}),o(r,{title:"Trabajos por Estado"},{default:a(()=>[e("div",K,[e("div",Q,[o(n(V),{data:b.value,options:h},null,8,["data"])])])]),_:1})]),e("div",U,[o(r,{title:"Top 5 Servicios Más Solicitados"},{default:a(()=>[e("div",W,[o(n(N),{data:x.value,options:k},null,8,["data"])])]),_:1})]),e("div",X,[e("a",{href:s.route("admin.reportes.rentabilidad"),class:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow border border-gray-200"},[...t[9]||(t[9]=[e("div",{class:"flex items-center"},[e("div",{class:"p-3 bg-purple-100 rounded-full mr-4"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),e("div",null,[e("h3",{class:"font-semibold text-gray-900"},"Rentabilidad"),e("p",{class:"text-sm text-gray-600"},"Análisis por trabajo")])],-1)])],8,ee),e("a",{href:s.route("admin.reportes.clientes"),class:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow border border-gray-200"},[...t[10]||(t[10]=[e("div",{class:"flex items-center"},[e("div",{class:"p-3 bg-red-100 rounded-full mr-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})])]),e("div",null,[e("h3",{class:"font-semibold text-gray-900"},"Clientes con Deuda"),e("p",{class:"text-sm text-gray-600"},"Gestión de cobros")])],-1)])],8,te),e("a",{href:s.route("admin.reportes.inventario"),class:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow border border-gray-200"},[...t[11]||(t[11]=[e("div",{class:"flex items-center"},[e("div",{class:"p-3 bg-yellow-100 rounded-full mr-4"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])]),e("div",null,[e("h3",{class:"font-semibold text-gray-900"},"Inventario"),e("p",{class:"text-sm text-gray-600"},"Consumo de materiales")])],-1)])],8,se)])])])]),_:1})],64))}};export{ce as default};
