import{r as y,c as O,a as u,b as a,u as g,h as A,w as o,d as t,t as l,o as r,e as m,F as v,f as w,l as _,g as I,i as L,j as k,v as j,k as N}from"./app-BlCBzDlk.js";import{_ as E}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as x}from"./Card-O9o5eUXT.js";import{_ as p}from"./Button-CX2Fugjk.js";import{_ as S}from"./Badge-DUws-gGn.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Footer-o2Y0PLgd.js";import"./ResponsiveNavLink-BzKXVlKb.js";const T={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},M={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},z={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},V={class:"flex items-center"},U={class:"ml-4"},F={class:"text-2xl font-semibold text-gray-900"},R={class:"flex items-center"},$={class:"ml-4"},q={class:"text-2xl font-semibold text-gray-900"},Z={class:"flex items-center"},G={class:"ml-4"},H={class:"text-2xl font-semibold text-gray-900"},Q={class:"flex items-center"},J={class:"ml-4"},K={class:"text-2xl font-semibold text-gray-900"},W={class:"space-y-4"},X={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Y={class:"mt-1 text-sm text-gray-600"},tt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},et={class:"relative"},st=["value"],ot={key:0,class:"text-center py-12"},lt={class:"mt-6"},at={key:1,class:"text-center py-12"},it={key:2,class:"overflow-x-auto"},rt={class:"min-w-full divide-y divide-gray-200"},nt={class:"bg-white divide-y divide-gray-200"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ct={class:"px-6 py-4 whitespace-nowrap"},ut={class:"text-sm font-medium text-gray-900"},mt={class:"text-sm text-gray-500"},xt={class:"px-6 py-4"},pt={class:"text-sm font-medium text-gray-900"},ft={class:"text-sm text-gray-500 line-clamp-1"},gt={class:"px-6 py-4 whitespace-nowrap"},vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ht={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},yt={__name:"Dashboard",props:{trabajos:Array},setup(n){const b=n,d=y(""),c=y(""),f=O(()=>{let i=b.trabajos;if(d.value){const e=d.value.toLowerCase();i=i.filter(s=>s.titulo.toLowerCase().includes(e)||s.descripcion?.toLowerCase().includes(e)||s.cliente.nombre.toLowerCase().includes(e)||s.cliente.email.toLowerCase().includes(e))}return c.value&&(i=i.filter(e=>e.estado===c.value)),i}),C=[{value:"",label:"Todos los estados"},{value:"SOLICITADO",label:"Solicitado"},{value:"PRESUPUESTADO",label:"Presupuestado"},{value:"EN_PRODUCCION",label:"En Producción"},{value:"FINALIZADO",label:"Finalizado"},{value:"CANCELADO",label:"Cancelado"}],D=i=>({SOLICITADO:"warning",PRESUPUESTADO:"info",EN_PRODUCCION:"default",FINALIZADO:"success",CANCELADO:"danger"})[i]||"default",h=()=>{d.value="",c.value=""};return(i,e)=>(r(),u(v,null,[a(g(A),{title:"Admin Dashboard"}),a(E,null,{header:o(()=>[t("div",T,[e[3]||(e[3]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Panel de Administración ",-1)),a(g(_),{href:i.route("admin.materiales.index")},{default:o(()=>[a(p,{variant:"secondary"},{default:o(()=>[...e[2]||(e[2]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),m(" Gestionar Inventario ",-1)])]),_:1})]),_:1},8,["href"])])]),default:o(()=>[t("div",M,[t("div",P,[t("div",z,[a(x,null,{default:o(()=>[t("div",V,[e[5]||(e[5]=t("div",{class:"flex-shrink-0 bg-blue-100 rounded-lg p-3"},[t("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",U,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-600"},"Total",-1)),t("p",F,l(n.trabajos.length),1)])])]),_:1}),a(x,null,{default:o(()=>[t("div",R,[e[7]||(e[7]=t("div",{class:"flex-shrink-0 bg-yellow-100 rounded-lg p-3"},[t("svg",{class:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",$,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-600"},"Pendientes",-1)),t("p",q,l(n.trabajos.filter(s=>s.estado==="SOLICITADO").length),1)])])]),_:1}),a(x,null,{default:o(()=>[t("div",Z,[e[9]||(e[9]=t("div",{class:"flex-shrink-0 bg-indigo-100 rounded-lg p-3"},[t("svg",{class:"h-8 w-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),t("div",G,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-gray-600"},"En Producción",-1)),t("p",H,l(n.trabajos.filter(s=>s.estado==="EN_PRODUCCION").length),1)])])]),_:1}),a(x,null,{default:o(()=>[t("div",Q,[e[11]||(e[11]=t("div",{class:"flex-shrink-0 bg-green-100 rounded-lg p-3"},[t("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",J,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-gray-600"},"Completados",-1)),t("p",K,l(n.trabajos.filter(s=>s.estado==="FINALIZADO").length),1)])])]),_:1})]),a(x,null,{header:o(()=>[t("div",W,[t("div",X,[t("div",null,[e[12]||(e[12]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Todos los Trabajos",-1)),t("p",Y,l(f.value.length)+" de "+l(n.trabajos.length)+" trabajos ",1)]),d.value||c.value?(r(),I(p,{key:0,variant:"ghost",size:"sm",onClick:h},{default:o(()=>[...e[13]||(e[13]=[m(" Limpiar filtros ",-1)])]),_:1})):L("",!0)]),t("div",tt,[t("div",et,[e[14]||(e[14]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),type:"text",placeholder:"Buscar por título, cliente o email...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[j,d.value]])]),k(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[(r(),u(v,null,w(C,s=>t("option",{key:s.value,value:s.value},l(s.label),9,st)),64))],512),[[N,c.value]])])])]),default:o(()=>[f.value.length===0&&(d.value||c.value)?(r(),u("div",ot,[e[16]||(e[16]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),e[17]||(e[17]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No se encontraron resultados",-1)),e[18]||(e[18]=t("p",{class:"mt-1 text-sm text-gray-500"},"Intenta con otros filtros o términos de búsqueda.",-1)),t("div",lt,[a(p,{variant:"ghost",onClick:h},{default:o(()=>[...e[15]||(e[15]=[m(" Limpiar filtros ",-1)])]),_:1})])])):n.trabajos.length===0?(r(),u("div",at,[...e[19]||(e[19]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No hay trabajos",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Los trabajos solicitados aparecerán aquí.",-1)])])):(r(),u("div",it,[t("table",rt,[e[21]||(e[21]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ID "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cliente "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Trabajo "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acciones ")])],-1)),t("tbody",nt,[(r(!0),u(v,null,w(f.value,s=>(r(),u("tr",{key:s.id_trabajo,class:"hover:bg-gray-50 transition-colors"},[t("td",dt," #"+l(s.id_trabajo),1),t("td",ct,[t("div",ut,l(s.cliente.nombre),1),t("div",mt,l(s.cliente.email),1)]),t("td",xt,[t("div",pt,l(s.titulo),1),t("div",ft,l(s.descripcion),1)]),t("td",gt,[a(S,{variant:D(s.estado),dot:""},{default:o(()=>[m(l(s.estado.replace("_"," ")),1)]),_:2},1032,["variant"])]),t("td",vt,l(new Date(s.fecha_solicitud).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})),1),t("td",ht,[a(g(_),{href:i.route("admin.trabajos.show",s.id_trabajo)},{default:o(()=>[a(p,{variant:"primary",size:"sm"},{default:o(()=>[...e[20]||(e[20]=[m(" Gestionar ",-1)])]),_:1})]),_:1},8,["href"])])]))),128))])])]))]),_:1})])])]),_:1})],64))}},It=B(yt,[["__scopeId","data-v-bcea4060"]]);export{It as default};
