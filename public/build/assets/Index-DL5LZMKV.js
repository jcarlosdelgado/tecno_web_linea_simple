import{r as w,a as d,b as o,u as x,h as H,w as a,d as t,g as v,t as n,j as k,v as B,o as i,F as y,f as F,k as $,e as u,i as M,l as h,q as N,p as C}from"./app-BlCBzDlk.js";import{_ as O}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as p}from"./Card-O9o5eUXT.js";import{_ as m}from"./Button-CX2Fugjk.js";import{_ as T}from"./Badge-DUws-gGn.js";import"./Footer-o2Y0PLgd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BzKXVlKb.js";const L={class:"flex items-center justify-between"},A={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},R={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},S={class:"text-center"},U={class:"text-3xl font-bold text-orange-600"},P={class:"text-center"},q={class:"text-3xl font-bold text-red-600"},I={class:"text-center"},J={class:"text-3xl font-bold text-gray-900"},K={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Q=["value"],W={class:"flex items-end gap-2"},X={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-gray-200"},Z={class:"bg-white divide-y divide-gray-200"},tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},et={class:"px-6 py-4 whitespace-nowrap"},st={class:"px-6 py-4 text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},rt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},it={class:"flex justify-end gap-2"},lt={key:0,class:"mt-6 flex justify-center"},nt={class:"flex gap-2"},dt={class:"text-center py-12"},ut={class:"mt-6"},ht={__name:"Index",props:{gastos:Object,stats:Object,categorias:Array,filtros:Object},setup(l){const _=l,f=w(_.filtros?.fecha_desde||""),g=w(_.filtros?.fecha_hasta||""),c=w(_.filtros?.categoria||""),j=()=>{C.get(route("admin.gastos-operativos.index"),{fecha_desde:f.value,fecha_hasta:g.value,categoria:c.value},{preserveState:!0})},z=()=>{f.value="",g.value="",c.value="",C.get(route("admin.gastos-operativos.index"))},G=r=>{confirm("¿Estás seguro de eliminar este gasto operativo?")&&C.delete(route("admin.gastos-operativos.destroy",r))},D=r=>r?new Date(r).toLocaleDateString("es-BO",{year:"numeric",month:"short",day:"numeric"}):"-",V=r=>{r&&window.open(`/storage/${r}`,"_blank")};return(r,e)=>(i(),d(y,null,[o(x(H),{title:"Gastos Operativos"}),o(O,null,{header:a(()=>[t("div",L,[e[4]||(e[4]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Gastos Operativos ",-1)),o(x(h),{href:r.route("admin.gastos-operativos.create")},{default:a(()=>[o(m,{variant:"primary"},{default:a(()=>[...e[3]||(e[3]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),u(" Registrar Gasto ",-1)])]),_:1})]),_:1},8,["href"])])]),default:a(()=>[t("div",A,[t("div",E,[t("div",R,[o(p,null,{default:a(()=>[t("div",S,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-500 mb-1"},"Gasto Hoy",-1)),t("p",U,"Bs "+n(parseFloat(l.stats.total_dia).toFixed(2)),1)])]),_:1}),o(p,null,{default:a(()=>[t("div",P,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-500 mb-1"},"Gasto Mes Actual",-1)),t("p",q,"Bs "+n(parseFloat(l.stats.total_mes_actual).toFixed(2)),1)])]),_:1}),o(p,null,{default:a(()=>[t("div",I,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-500 mb-1"},"Gasto Total",-1)),t("p",J,"Bs "+n(parseFloat(l.stats.total_general).toFixed(2)),1)])]),_:1})]),o(p,null,{default:a(()=>[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Filtrar Gastos",-1)),t("div",K,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha Desde",-1)),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>f.value=s),type:"date",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[B,f.value]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha Hasta",-1)),k(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>g.value=s),type:"date",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[B,g.value]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Categoría",-1)),k(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[e[10]||(e[10]=t("option",{value:""},"Todas",-1)),(i(!0),d(y,null,F(l.categorias,s=>(i(),d("option",{key:s,value:s},n(s),9,Q))),128))],512),[[$,c.value]])]),t("div",W,[o(m,{variant:"primary",onClick:j,class:"flex-1"},{default:a(()=>[...e[12]||(e[12]=[u(" Filtrar ",-1)])]),_:1}),o(m,{variant:"secondary",onClick:z,class:"flex-1"},{default:a(()=>[...e[13]||(e[13]=[u(" Limpiar ",-1)])]),_:1})])])]),_:1}),l.gastos.data.length>0?(i(),v(p,{key:0},{default:a(()=>[t("div",X,[t("table",Y,[e[18]||(e[18]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Fecha"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Categoría"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Descripción"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Monto"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Registrado Por"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Acciones")])],-1)),t("tbody",Z,[(i(!0),d(y,null,F(l.gastos.data,s=>(i(),d("tr",{key:s.id_gasto_operativo,class:"hover:bg-gray-50"},[t("td",tt,n(D(s.fecha)),1),t("td",et,[o(T,{variant:"info"},{default:a(()=>[u(n(s.categoria),1)]),_:2},1024)]),t("td",st,n(s.descripcion),1),t("td",at," Bs "+n(parseFloat(s.monto).toFixed(2)),1),t("td",ot,n(s.registrador?.name||"N/A"),1),t("td",rt,[t("div",it,[s.comprobante?(i(),v(m,{key:0,variant:"secondary",size:"sm",onClick:b=>V(s.comprobante)},{default:a(()=>[...e[15]||(e[15]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["onClick"])):M("",!0),o(x(h),{href:r.route("admin.gastos-operativos.edit",s.id_gasto_operativo)},{default:a(()=>[o(m,{variant:"primary",size:"sm"},{default:a(()=>[...e[16]||(e[16]=[u(" Editar ",-1)])]),_:1})]),_:1},8,["href"]),o(m,{variant:"danger",size:"sm",onClick:b=>G(s.id_gasto_operativo)},{default:a(()=>[...e[17]||(e[17]=[u(" Eliminar ",-1)])]),_:1},8,["onClick"])])])]))),128))])])]),l.gastos.links.length>3?(i(),d("div",lt,[t("nav",nt,[(i(!0),d(y,null,F(l.gastos.links,(s,b)=>(i(),v(x(h),{key:b,href:s.url,class:N(["px-4 py-2 text-sm rounded-lg transition-colors",s.active?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):M("",!0)]),_:1})):(i(),v(p,{key:1},{default:a(()=>[t("div",dt,[e[20]||(e[20]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})],-1)),e[21]||(e[21]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No hay gastos operativos",-1)),e[22]||(e[22]=t("p",{class:"mt-1 text-sm text-gray-500"}," Comienza registrando el primer gasto operativo. ",-1)),t("div",ut,[o(x(h),{href:r.route("admin.gastos-operativos.create")},{default:a(()=>[o(m,{variant:"primary"},{default:a(()=>[...e[19]||(e[19]=[u(" Registrar Primer Gasto ",-1)])]),_:1})]),_:1},8,["href"])])])]),_:1}))])])]),_:1})],64))}};export{ht as default};
