import{m as D,r as T,a as d,b as c,u as o,h as V,w as l,d as e,g as N,i as g,o as a,t as n,e as u,n as P,j as b,F as v,f as k,k as z,q as _,v as w,l as S}from"./app-BlCBzDlk.js";import{_ as E}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as j}from"./Card-O9o5eUXT.js";import{_ as x}from"./Button-CX2Fugjk.js";import{_ as $}from"./Alert-0xs92er9.js";import{_ as q}from"./Badge-DUws-gGn.js";import"./Footer-o2Y0PLgd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BzKXVlKb.js";const F={class:"flex items-center space-x-4"},U={class:"py-12"},A={class:"max-w-3xl mx-auto sm:px-6 lg:px-8 space-y-6"},I={class:"flex items-start gap-4"},L={class:"flex-shrink-0 w-20 h-20 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-lg flex items-center justify-center text-3xl"},R={class:"flex-1"},O={class:"flex items-center gap-2 mb-2"},G={class:"text-lg font-semibold text-gray-900"},J={class:"text-sm text-gray-600"},Q={key:0,class:"mt-2 text-sm text-gray-500"},W={class:"font-semibold text-indigo-600"},H={key:0},K=["value"],X={key:0,class:"mt-2 text-sm text-red-600"},Y={key:0,class:"mt-2 text-sm text-red-600"},Z={class:"space-y-4"},ee={class:"flex items-center justify-center w-full"},te={class:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors"},se=["disabled"],oe={key:0,class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},re=["src","alt"],ie=["onClick"],le={class:"mt-1 text-xs text-gray-500 truncate"},ae={key:1,class:"text-sm text-red-600"},ne={class:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200"},xe={__name:"CreateJob",props:{servicios:Array,servicioSeleccionado:Object},setup(i){const y=i,s=D({id_servicio:y.servicioSeleccionado?.id_servicio||null,titulo:y.servicioSeleccionado?.nombre||"",descripcion:"",imagenes:[]}),p=T([]),C=m=>{const t=Array.from(m.target.files);if(t.length+s.imagenes.length>5){alert("MÃ¡ximo 5 imÃ¡genes permitidas");return}s.imagenes=[...s.imagenes,...t],t.forEach(r=>{const f=new FileReader;f.onload=h=>{p.value.push({url:h.target.result,name:r.name})},f.readAsDataURL(r)})},B=m=>{s.imagenes.splice(m,1),p.value.splice(m,1)},M=()=>{s.post(route("trabajos.store"),{onSuccess:()=>{s.reset(),p.value=[]},forceFormData:!0})};return(m,t)=>(a(),d(v,null,[c(o(V),{title:"Solicitar Trabajo"}),c(E,null,{header:l(()=>[e("div",F,[c(o(S),{href:m.route("dashboard")},{default:l(()=>[c(x,{variant:"ghost",size:"sm"},{default:l(()=>[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),u(" Volver ",-1)])]),_:1})]),_:1},8,["href"]),t[4]||(t[4]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Solicitar Nuevo Trabajo ",-1))])]),default:l(()=>[e("div",U,[e("div",A,[i.servicioSeleccionado?(a(),N(j,{key:0},{default:l(()=>[e("div",I,[e("div",L,n(i.servicioSeleccionado.categoria==="Publicidad"?"ðŸ“¢":i.servicioSeleccionado.categoria==="DecoraciÃ³n"?"ðŸŽ¨":i.servicioSeleccionado.categoria==="DiseÃ±o de Interiores"?"ðŸ ":"âœ¨"),1),e("div",R,[e("div",O,[e("h3",G,n(i.servicioSeleccionado.nombre),1),c(q,{variant:"info",size:"sm"},{default:l(()=>[u(n(i.servicioSeleccionado.categoria),1)]),_:1})]),e("p",J,n(i.servicioSeleccionado.descripcion),1),i.servicioSeleccionado.precio_base?(a(),d("p",Q,[t[5]||(t[5]=u(" Precio base: ",-1)),e("span",W,"Bs "+n(i.servicioSeleccionado.precio_base),1)])):g("",!0)])])]),_:1})):g("",!0),c(j,null,{header:l(()=>[...t[6]||(t[6]=[e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"Detalles del Trabajo"),e("p",{class:"mt-1 text-sm text-gray-600"}," Completa la informaciÃ³n sobre el trabajo que necesitas. ")],-1)])]),default:l(()=>[e("form",{onSubmit:P(M,["prevent"]),class:"space-y-6"},[i.servicioSeleccionado?g("",!0):(a(),d("div",H,[t[8]||(t[8]=e("label",{for:"servicio",class:"block text-sm font-medium text-gray-700 mb-2"}," Tipo de Servicio (Opcional) ",-1)),b(e("select",{id:"servicio","onUpdate:modelValue":t[0]||(t[0]=r=>o(s).id_servicio=r),class:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[t[7]||(t[7]=e("option",{value:null},"Seleccionar servicio...",-1)),(a(!0),d(v,null,k(i.servicios,r=>(a(),d("option",{key:r.id_servicio,value:r.id_servicio},n(r.nombre)+" - "+n(r.categoria),9,K))),128))],512),[[z,o(s).id_servicio]])])),e("div",null,[t[9]||(t[9]=e("label",{for:"titulo",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" TÃ­tulo del Trabajo "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{id:"titulo","onUpdate:modelValue":t[1]||(t[1]=r=>o(s).titulo=r),type:"text",required:"",placeholder:"Ej: Banner publicitario para evento",class:_(["block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":o(s).errors.titulo}])},null,2),[[w,o(s).titulo]]),o(s).errors.titulo?(a(),d("p",X,n(o(s).errors.titulo),1)):g("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"descripcion",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" DescripciÃ³n Detallada "),e("span",{class:"text-red-500"},"*")],-1)),b(e("textarea",{id:"descripcion","onUpdate:modelValue":t[2]||(t[2]=r=>o(s).descripcion=r),required:"",rows:"6",placeholder:"Describe con detalle: medidas, colores, materiales preferidos, fecha deseada, etc.",class:_(["block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none",{"border-red-500":o(s).errors.descripcion}])},null,2),[[w,o(s).descripcion]]),o(s).errors.descripcion?(a(),d("p",Y,n(o(s).errors.descripcion),1)):g("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," ImÃ¡genes de Referencia (Opcional) ",-1)),e("div",Z,[e("div",ee,[e("label",te,[t[11]||(t[11]=e("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[e("svg",{class:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),e("p",{class:"mb-2 text-sm text-gray-500"},[e("span",{class:"font-semibold"},"Click para subir"),u(" o arrastra archivos ")]),e("p",{class:"text-xs text-gray-500"},"PNG, JPG, WEBP (MÃ¡x. 5MB, hasta 5 imÃ¡genes)")],-1)),e("input",{type:"file",class:"hidden",accept:"image/*",multiple:"",onChange:C,disabled:o(s).imagenes.length>=5},null,40,se)])]),p.value.length>0?(a(),d("div",oe,[(a(!0),d(v,null,k(p.value,(r,f)=>(a(),d("div",{key:f,class:"relative group"},[e("img",{src:r.url,alt:r.name,class:"w-full h-32 object-cover rounded-lg border-2 border-gray-200"},null,8,re),e("button",{type:"button",onClick:h=>B(f),class:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity"},[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ie),e("p",le,n(r.name),1)]))),128))])):g("",!0),o(s).errors.imagenes?(a(),d("p",ae,n(o(s).errors.imagenes),1)):g("",!0)])]),c($,{type:"info",title:"Â¿QuÃ© sucede despuÃ©s?"},{default:l(()=>[...t[14]||(t[14]=[e("ul",{class:"list-disc list-inside space-y-1 text-sm"},[e("li",null,"RecibirÃ¡s una confirmaciÃ³n de tu solicitud"),e("li",null,"Nuestro equipo revisarÃ¡ los detalles"),e("li",null,"Te enviaremos un presupuesto detallado"),e("li",null,"PodrÃ¡s aprobar o rechazar el presupuesto")],-1)])]),_:1}),e("div",ne,[c(o(S),{href:m.route("dashboard")},{default:l(()=>[c(x,{type:"button",variant:"ghost"},{default:l(()=>[...t[15]||(t[15]=[u(" Cancelar ",-1)])]),_:1})]),_:1},8,["href"]),c(x,{type:"submit",variant:"primary",loading:o(s).processing,disabled:o(s).processing},{default:l(()=>[t[16]||(t[16]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)),u(" "+n(o(s).processing?"Enviando...":"Enviar Solicitud"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1})])])]),_:1})],64))}};export{xe as default};
