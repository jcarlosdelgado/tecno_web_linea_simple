import{a as n,b as i,u as b,h as w,w as o,d as s,g as _,i as p,o as a,F as v,f as h,t as r,e as m,p as x}from"./app-BlCBzDlk.js";import{_ as C}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as f}from"./Card-O9o5eUXT.js";import{_ as u}from"./Button-CX2Fugjk.js";import{_ as z}from"./Badge-DUws-gGn.js";import"./Footer-o2Y0PLgd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BzKXVlKb.js";const M={class:"flex justify-between items-center"},B={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},R={class:"p-6"},V={class:"flex items-start justify-between mb-4"},N={class:"flex-1"},$={class:"text-lg font-bold text-gray-900 mb-1"},P={class:"text-sm text-gray-600"},L={class:"space-y-3 mb-4"},S={class:"flex items-center text-sm text-gray-600"},A={class:"font-medium"},E={class:"ml-1"},D={class:"flex items-center text-sm text-gray-600"},F={class:"font-medium"},G={class:"ml-1"},I={key:0,class:"mb-4"},T={class:"flex flex-wrap gap-1"},q={key:0,class:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded"},J={class:"flex gap-2 pt-4 border-t border-gray-200"},K={class:"text-center py-12"},O={class:"mt-6"},os={__name:"Index",props:{roles:Array},setup(c){const k=l=>{confirm("¿Estás seguro de eliminar este rol?")&&x.delete(route("roles.destroy",l),{preserveScroll:!0})},y=l=>{x.visit(route("roles.edit",l))},g=()=>{x.visit(route("roles.create"))};return(l,e)=>(a(),n(v,null,[i(b(w),{title:"Gestión de Roles"}),i(C,null,{header:o(()=>[s("div",M,[e[1]||(e[1]=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Gestión de Roles y Permisos ",-1)),i(u,{variant:"primary",onClick:g},{default:o(()=>[...e[0]||(e[0]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),m(" Crear Nuevo Rol ",-1)])]),_:1})])]),default:o(()=>[s("div",B,[s("div",j,[i(f,null,{default:o(()=>[...e[2]||(e[2]=[s("div",{class:"p-4 bg-blue-50 border-l-4 border-blue-500"},[s("div",{class:"flex items-start"},[s("svg",{class:"w-6 h-6 text-blue-500 mr-3 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),s("div",null,[s("h3",{class:"text-sm font-medium text-blue-800"},"Sobre Roles y Permisos"),s("p",{class:"mt-1 text-sm text-blue-700"},' Los roles te permiten agrupar permisos y asignarlos a usuarios. Por ejemplo, puedes crear un rol "Diseñador" con permisos para ver y editar trabajos, pero sin acceso a inventario o pagos. ')])])],-1)])]),_:1}),s("div",H,[(a(!0),n(v,null,h(c.roles,t=>(a(),_(f,{key:t.id_rol},{default:o(()=>[s("div",R,[s("div",V,[s("div",N,[s("h3",$,r(t.nombre),1),s("p",P,r(t.descripcion||"Sin descripción"),1)]),i(z,{variant:t.activo?"success":"secondary"},{default:o(()=>[m(r(t.activo?"Activo":"Inactivo"),1)]),_:2},1032,["variant"])]),s("div",L,[s("div",S,[e[3]||(e[3]=s("svg",{class:"w-5 h-5 mr-2 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),s("span",A,r(t.permisos?.length||0),1),s("span",E,r(t.permisos?.length===1?"permiso":"permisos"),1)]),s("div",D,[e[4]||(e[4]=s("svg",{class:"w-5 h-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),s("span",F,r(t.usuarios_count||0),1),s("span",G,r(t.usuarios_count===1?"usuario":"usuarios"),1)])]),t.permisos&&t.permisos.length>0?(a(),n("div",I,[e[5]||(e[5]=s("p",{class:"text-xs font-medium text-gray-500 mb-2"},"Permisos:",-1)),s("div",T,[(a(!0),n(v,null,h(t.permisos.slice(0,3),(d,Q)=>(a(),n("span",{key:d.id_permiso,class:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded"},r(d.modulo),1))),128)),t.permisos.length>3?(a(),n("span",q," +"+r(t.permisos.length-3)+" más ",1)):p("",!0)])])):p("",!0),s("div",J,[i(u,{variant:"primary",size:"sm",class:"flex-1",onClick:d=>y(t.id_rol)},{default:o(()=>[...e[6]||(e[6]=[s("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),m(" Editar ",-1)])]),_:1},8,["onClick"]),i(u,{variant:"danger",size:"sm",onClick:d=>k(t.id_rol),disabled:t.usuarios_count>0},{default:o(()=>[...e[7]||(e[7]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])]),_:1},8,["onClick","disabled"])])])]),_:2},1024))),128))]),!c.roles||c.roles.length===0?(a(),_(f,{key:0},{default:o(()=>[s("div",K,[e[9]||(e[9]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),e[10]||(e[10]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No hay roles",-1)),e[11]||(e[11]=s("p",{class:"mt-1 text-sm text-gray-500"},"Comienza creando un nuevo rol.",-1)),s("div",O,[i(u,{variant:"primary",onClick:g},{default:o(()=>[...e[8]||(e[8]=[m(" Crear Primer Rol ",-1)])]),_:1})])])]),_:1})):p("",!0)])])]),_:1})],64))}};export{os as default};
