import{a as c,b as l,u as b,h as v,w as r,d as t,g as _,t as e,e as g,P as w,o as d,F as u,f,q as A,i as k,p as C}from"./app-BlCBzDlk.js";import{_ as D}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as m}from"./Card-O9o5eUXT.js";import{_ as N}from"./Button-CX2Fugjk.js";import{_ as E}from"./Badge-DUws-gGn.js";import"./Footer-o2Y0PLgd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BzKXVlKb.js";const P={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},F={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},B={class:"text-center"},I={class:"text-3xl font-bold text-gray-900"},T={class:"mt-2 flex justify-center items-center gap-4 text-sm"},j={class:"text-green-600 font-medium"},z={class:"text-orange-600 font-medium"},$={class:"text-center"},G={class:"text-3xl font-bold text-gray-900"},M={class:"mt-2 text-sm text-gray-600"},S={class:"font-semibold text-green-600"},L={class:"text-center"},O={class:"text-3xl font-bold text-indigo-600"},q={class:"mt-3 w-full bg-gray-200 rounded-full h-2.5"},H={class:"space-y-6"},J={class:"flex items-center justify-between mb-4"},K={class:"text-lg font-semibold text-gray-900"},Q={class:"text-sm text-gray-500"},R={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},U={class:"flex items-start justify-between mb-2"},W={class:"text-sm font-medium text-gray-700"},X={class:"text-lg font-bold text-gray-900"},Y={class:"text-xs text-gray-500 mt-1"},Z={key:0,class:"text-xs text-green-600 mt-1"},it={__name:"AllInstallments",props:{pagos:Array,stats:Object},setup(n){const p=o=>({PENDIENTE:"warning",PAGADA:"success",VENCIDA:"danger"})[o]||"default",h=o=>({PENDIENTE:"Pendiente",PAGADA:"Pagada",VENCIDA:"Vencida"})[o]||o,x=o=>o?new Date(o).toLocaleDateString("es-BO",{year:"numeric",month:"short",day:"numeric"}):"-",y=o=>{C.visit(route("cuotas.index",o))};return(o,s)=>(d(),c(u,null,[l(b(v),{title:"Mis Cuotas"}),l(D,null,{header:r(()=>[...s[0]||(s[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Mis Cuotas ",-1)])]),default:r(()=>[t("div",P,[t("div",V,[t("div",F,[l(m,null,{default:r(()=>[t("div",B,[s[1]||(s[1]=t("p",{class:"text-sm text-gray-500 mb-1"},"Total de Cuotas",-1)),t("p",I,e(n.stats.total_cuotas),1),t("div",T,[t("span",j,e(n.stats.cuotas_pagadas)+" pagadas",1),t("span",z,e(n.stats.cuotas_pendientes)+" pendientes",1)])])]),_:1}),l(m,null,{default:r(()=>[t("div",$,[s[3]||(s[3]=t("p",{class:"text-sm text-gray-500 mb-1"},"Monto Total",-1)),t("p",G,"Bs "+e(parseFloat(n.stats.monto_total).toFixed(2)),1),t("p",M,[s[2]||(s[2]=g(" Pagado: ",-1)),t("span",S,"Bs "+e(parseFloat(n.stats.monto_pagado).toFixed(2)),1)])])]),_:1}),l(m,null,{default:r(()=>[t("div",L,[s[4]||(s[4]=t("p",{class:"text-sm text-gray-500 mb-1"},"Progreso General",-1)),t("p",O,e(n.stats.progreso.toFixed(0))+"%",1),t("div",q,[t("div",{class:"bg-gradient-to-r from-indigo-500 to-indigo-600 h-2.5 rounded-full transition-all duration-500",style:w({width:n.stats.progreso+"%"})},null,4)])])]),_:1})]),n.pagos.length>0?(d(),_(m,{key:0},{default:r(()=>[t("div",H,[(d(!0),c(u,null,f(n.pagos,i=>(d(),c("div",{key:i.id_pago,class:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow bg-white"},[t("div",J,[t("div",null,[t("h3",K,e(i.trabajo.titulo),1),t("p",Q,e(i.numero_cuotas)+" cuotas de Bs "+e(parseFloat(i.monto/i.numero_cuotas).toFixed(2)),1)]),l(N,{variant:"secondary",size:"sm",onClick:a=>y(i.id_pago)},{default:r(()=>[...s[5]||(s[5]=[g(" Ver Detalle ",-1)])]),_:1},8,["onClick"])]),t("div",R,[(d(!0),c(u,null,f(i.cuotas,a=>(d(),c("div",{key:a.id_cuota,class:A(["border rounded-lg p-3",{"bg-green-50 border-green-200":a.estado==="PAGADA","bg-orange-50 border-orange-200":a.estado==="PENDIENTE","bg-red-50 border-red-200":a.estado==="VENCIDA"}])},[t("div",U,[t("span",W," Cuota "+e(a.numero_cuota),1),l(E,{variant:p(a.estado),size:"sm"},{default:r(()=>[g(e(h(a.estado)),1)]),_:2},1032,["variant"])]),t("p",X," Bs "+e(parseFloat(a.monto).toFixed(2)),1),t("p",Y," Vence: "+e(x(a.fecha_vencimiento)),1),a.fecha_pago?(d(),c("p",Z," Pagado: "+e(x(a.fecha_pago)),1)):k("",!0)],2))),128))])]))),128))])]),_:1})):(d(),_(m,{key:1},{default:r(()=>[...s[6]||(s[6]=[t("div",{class:"text-center py-12"},[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No tienes cuotas"),t("p",{class:"mt-1 text-sm text-gray-500"}," Aún no has realizado pagos a crédito. ")],-1)])]),_:1}))])])]),_:1})],64))}};export{it as default};
