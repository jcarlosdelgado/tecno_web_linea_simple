import{r as k,a as l,b as i,u,h as C,w as o,d as e,o as a,F as h,f as j,t as n,l as p,e as c,g as y,i as v,j as _,v as A,k as B,p as E}from"./app-BlCBzDlk.js";import{_ as N}from"./AuthenticatedLayout-DQ_849qa.js";import{_ as T}from"./Card-O9o5eUXT.js";import{_ as x}from"./Button-CX2Fugjk.js";import"./Footer-o2Y0PLgd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BzKXVlKb.js";const M={class:"flex justify-between items-center"},S={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"space-y-4"},D={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},F={key:0,class:"text-center py-12"},I={key:1,class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200"},V={class:"bg-white divide-y divide-gray-200"},L={class:"px-6 py-4"},O={class:"flex items-center"},P={class:"flex-shrink-0 h-10 w-10 bg-indigo-100 rounded-full flex items-center justify-center"},$={class:"text-indigo-600 font-medium"},G={class:"ml-4"},H={class:"text-sm font-medium text-gray-900"},J={class:"text-sm text-gray-500"},q={class:"px-6 py-4 whitespace-nowrap"},K={class:"flex flex-col gap-1"},Q={key:0,class:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800"},W={key:1,class:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},X={key:2,class:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800"},Y={key:3,class:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},te={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},se={class:"px-6 py-4 border-t border-gray-200"},oe={class:"flex items-center justify-between"},ae={class:"text-sm text-gray-700"},re={class:"flex space-x-2"},me={__name:"Index",props:{usuarios:Object,filters:Object},setup(r){const g=r,d=k({search:g.filters?.search||"",rol:g.filters?.rol||""}),f=()=>{E.get(route("admin.usuarios.index"),d.value,{preserveState:!0,replace:!0})},w=()=>{d.value={search:"",rol:""},f()},b=m=>new Date(m).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"});return(m,t)=>(a(),l(h,null,[i(u(C),{title:"Gestión de Usuarios"}),i(N,null,{header:o(()=>[e("div",M,[t[3]||(t[3]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Gestión de Usuarios ",-1)),i(u(p),{href:m.route("admin.usuarios.create")},{default:o(()=>[i(x,{variant:"primary"},{default:o(()=>[...t[2]||(t[2]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Crear Usuario ",-1)])]),_:1})]),_:1},8,["href"])])]),default:o(()=>[e("div",S,[e("div",U,[i(T,null,{header:o(()=>[e("div",z,[e("div",D,[e("div",null,[_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value.search=s),onInput:f,type:"text",placeholder:"Buscar por nombre o email...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,544),[[A,d.value.search]])]),e("div",null,[_(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value.rol=s),onChange:f,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...t[4]||(t[4]=[e("option",{value:""},"Todos los roles",-1),e("option",{value:"CLIENTE"},"Clientes",-1),e("option",{value:"TRABAJADOR"},"Trabajadores",-1)])],544),[[B,d.value.rol]])]),e("div",null,[i(x,{variant:"ghost",onClick:w,class:"w-full"},{default:o(()=>[...t[5]||(t[5]=[c(" Limpiar Filtros ",-1)])]),_:1})])])])]),default:o(()=>[r.usuarios.data.length===0?(a(),l("div",F,[...t[6]||(t[6]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No hay usuarios",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Comienza creando un nuevo usuario.",-1)])])):(a(),l("div",I,[e("table",R,[t[8]||(t[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usuario "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rol "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Contacto "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha Registro "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acciones ")])],-1)),e("tbody",V,[(a(!0),l(h,null,j(r.usuarios.data,s=>(a(),l("tr",{key:s.id_usuario,class:"hover:bg-gray-50"},[e("td",L,[e("div",O,[e("div",P,[e("span",$,n(s.nombre.charAt(0).toUpperCase()),1)]),e("div",G,[e("div",H,n(s.nombre),1),e("div",J,n(s.email),1)])])]),e("td",q,[e("div",K,[s.role_custom||s.roleCustom?(a(),l("span",Q,n((s.role_custom||s.roleCustom).nombre),1)):s.rol==="CLIENTE"?(a(),l("span",W," Cliente ")):s.rol==="PROPIETARIO"?(a(),l("span",X," Propietario ")):(a(),l("span",Y," Sin rol "))])]),e("td",Z,n(s.telefono||"N/A"),1),e("td",ee,n(b(s.creado_en)),1),e("td",te,[i(u(p),{href:m.route("admin.usuarios.edit",s.id_usuario)},{default:o(()=>[i(x,{variant:"ghost",size:"sm"},{default:o(()=>[...t[7]||(t[7]=[c(" Editar ",-1)])]),_:1})]),_:1},8,["href"])])]))),128))])]),e("div",se,[e("div",oe,[e("div",ae," Mostrando "+n(r.usuarios.from)+" a "+n(r.usuarios.to)+" de "+n(r.usuarios.total)+" usuarios ",1),e("div",re,[r.usuarios.prev_page_url?(a(),y(u(p),{key:0,href:r.usuarios.prev_page_url,"preserve-state":""},{default:o(()=>[i(x,{variant:"ghost",size:"sm"},{default:o(()=>[...t[9]||(t[9]=[c("Anterior",-1)])]),_:1})]),_:1},8,["href"])):v("",!0),r.usuarios.next_page_url?(a(),y(u(p),{key:1,href:r.usuarios.next_page_url,"preserve-state":""},{default:o(()=>[i(x,{variant:"ghost",size:"sm"},{default:o(()=>[...t[10]||(t[10]=[c("Siguiente",-1)])]),_:1})]),_:1},8,["href"])):v("",!0)])])])]))]),_:1})])])]),_:1})],64))}};export{me as default};
